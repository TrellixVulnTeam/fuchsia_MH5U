// Copyright 2020 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#include "roboto_mono_regular.h"

#include "common/macros.h"
#include "spinel/spinel_assert.h"

//
// Google Roboto Mono glyphs
//

#define FONT_GLYPH_CMDS_PAREN_LEFT()                                                               \
  m(357, 591) q(0, 143, 22.5, 269) t(60.5, 233.5) t(87.5, 196.5) t(104, 158) t(109.5, 118)         \
    t(105, 77) l(39, -122) q(-62, -47, -123.5, -128) t(-110, -196.5) t(-79, -266) t(-30.5, -337.5) \
      v(-14) q(0, -187, 30.5, -338) t(79, -267) t(110, -198.5) t(123.5, -132.5) l(-39, -113)       \
        q(-50, 28, -105.5, 76.5) t(-110, 118) t(-104, 158) t(-87, 196) t(-60, 233.5) t(-22.5, 269) \
          v(10) z()

#define FONT_GLYPH_CMDS_PAREN_RIGHT()                                                              \
  m(849, 581) q(0, -143, -22.5, -269) t(-60.5, -233.5) t(-87.5, -196) t(-104, -158) t(-110, -118)  \
    t(-105.5, -76.5) l(-39, 113) q(62, 46, 123.5, 128.5) t(110, 199.5) t(79, 269) t(30.5, 339)     \
      v(14) q(0, 187, -32, 339.5) t(-82.5, 270) t(-111, 199.5) t(-117.5, 128) l(39, 113)           \
        q(50, -28, 105.5, -77) t(110, -118) t(104, -158) t(87.5, -196.5) t(60.5, -233.5)           \
          t(22.5, -269) v(-10) z()

#define FONT_GLYPH_CMDS_COMMA()                                                                    \
  m(643, 43) q(0, -47, -11.5, -98.5) t(-34, -102) t(-54.5, -96.5) t(-74, -82) l(-115, 63)          \
    q(48, 70, 68, 149) t(20, 164) v(179) h(201) v(-176) z()

#define FONT_GLYPH_CMDS_ZERO()                                                                     \
  m(1088, 557) q(0, -139, -32, -246.5) t(-92, -181) t(-147, -111.5) t(-199, -38)                   \
    q(-111, 0, -198.5, 38) t(-148.5, 111.5) t(-93.5, 181) t(-32.5, 246.5) v(341)                   \
      q(0, 139, 32, 246.5) t(92.5, 181.5) t(148, 112.5) t(198.5, 38.5) q(112, 0, 199.5, -38.5)     \
        t(148, -112.5) t(92.5, -181.5) t(32, -246.5) v(-341) z() m(331, 594) l(567, 435)           \
          q(-16, 145, -84.5, 220.5) t(-197.5, 75.5) q(-146, 0, -215.5, -98.5) t(-69.5, -287.5)     \
            v(-345) z() m(902, 852) l(-566, -433) q(17, -141, 87, -215) t(195, -74)                \
              q(147, 0, 215.5, 100) t(68.5, 288) v(334) z()

#define FONT_GLYPH_CMDS_ONE()                                                                      \
  m(774, 0) h(-185) v(1220) l(-381, -145) v(169) l(551, 212) h(15) v(-1456) z()

#define FONT_GLYPH_CMDS_TWO()                                                                      \
  m(1067, 0) h(-954) v(133) l(477, 530) q(64, 71, 107, 126) t(69, 101.5) t(37, 88) t(11, 85.5)     \
    q(0, 54, -17.5, 101.5) t(-51, 82.5) t(-81, 55.5) t(-107.5, 20.5) q(-73, 0, -126.5, -21)        \
      t(-89, -59.5) t(-53, -93.5) t(-17.5, -123) h(-186) q(0, 92, 32, 173.5) t(92.5, 142.5)        \
        t(148, 97) t(199.5, 36) q(103, 0, 185.5, -30.5) t(139.5, -84.5) t(87.5, -128)              \
          t(30.5, -161) q(0, -65, -22, -128.5) t(-59.5, -125.5) t(-87, -122.5) t(-104.5, -120.5)   \
            l(-391, -424) h(731) v(-151) z()

#define FONT_GLYPH_CMDS_THREE()                                                                    \
  m(390, 817) h(132) q(70, 0, 123.5, 19) t(90, 52) t(55.5, 79) t(19, 101) q(0, 127, -65, 191.5)    \
    t(-190, 64.5) q(-59, 0, -107.5, -17.5) t(-83, -50.5) t(-53.5, -79) t(-19, -103) h(-186)        \
      q(0, 83, 32.5, 156.5) t(91.5, 128) t(141.5, 86) t(183.5, 31.5) q(98, 0, 179, -26.5)          \
        t(139, -78.5) t(90, -129) t(32, -178) q(0, -42, -13, -87) t(-40, -87.5) t(-69.5, -80)      \
          t(-101.5, -62.5) q(71, -23, 118.5, -60) t(76, -83) t(40, -97) t(11.5, -101)              \
            q(0, -102, -35, -181) t(-97, -133.5) t(-146.5, -83) t(-182.5, -28.5)                   \
              q(-96, 0, -180.5, 27) t(-146.5, 79) t(-98.5, 127) t(-36.5, 171) h(185)               \
                q(0, -57, 19.5, -104) t(55.5, -80) t(87.5, -51) t(114.5, -18) t(114, 16.5)         \
                  t(87, 50.5) t(55.5, 84.5) t(19.5, 119.5) q(0, 68, -22.5, 117.5) t(-63, 82.5)     \
                    t(-98, 49) t(-126.5, 16) h(-132) v(150) z()

#define FONT_GLYPH_CMDS_FOUR()                                                                     \
  m(924, 489) h(203) v(-151) h(-203) v(-338) h(-185) v(338) h(-664) v(109) l(652, 1009) h(197)     \
    v(-967) z() m(280, 489) h(459) v(721) l(-30, -56) z()

#define FONT_GLYPH_CMDS_FIVE()                                                                     \
  m(240, 730) l(73, 726) h(747) v(-180) h(-591) l(-41, -388) q(43, 25, 103, 44) t(139, 19)         \
    q(101, 0, 181, -35) t(136, -98.5) t(86, -153.5) t(30, -200) q(0, -104, -28, -193)              \
      t(-84.5, -153.5) t(-142.5, -101) t(-202, -36.5) q(-89, 0, -168, 25) t(-140.5, 75)            \
        t(-101, 126) t(-49.5, 177) h(176) q(17, -124, 91.5, -188) t(191.5, -64)                    \
          q(66, 0, 117, 23.5) t(85.5, 67) t(52, 104.5) t(17.5, 136) q(0, 68, -19.5, 127)           \
            t(-56.5, 102.5) t(-91, 68.5) t(-124, 25) q(-46, 0, -79.5, -6.5) t(-60.5, -18.5)        \
              t(-50.5, -29) t(-48.5, -39) z()

#define FONT_GLYPH_CMDS_SIX()                                                                      \
  m(856, 1457) v(-166) h(-16) q(-92, 0, -164.5, -19) t(-127.5, -52) t(-94.5, -78.5)                \
    t(-65.5, -99.5) t(-40, -113) t(-18, -120) q(26, 31, 60, 57.5) t(73.5, 46) t(85, 31)            \
      t(95.5, 11.5) q(109, 0, 188, -41.5) t(130, -109.5) t(75, -154) t(24, -175)                   \
        q(0, -102, -28.5, -192) t(-85.5, -157.5) t(-141.5, -106.5) t(-195.5, -39)                  \
          q(-79, 0, -144.5, 23) t(-117.5, 62.5) t(-91, 93.5) t(-64.5, 116) t(-38.5, 129)           \
            t(-13, 134) v(87) q(0, 100, 12.5, 200.5) t(42.5, 192.5) t(81, 172.5) t(128.5, 139.5)   \
              t(184.5, 93) t(250, 34) h(16) z() m(614, 801) q(-47, 0, -91, -15) t(-82, -42)        \
                t(-67, -65) t(-46, -84) v(-62) q(0, -96, 23, -170.5) t(62, -125.5) t(90, -77.5)    \
                  t(107, -26.5) q(65, 0, 115, 25) t(84.5, 69) t(52, 105.5) t(17.5, 133.5)          \
                    q(0, 64, -16, 124.5) t(-49, 107.5) t(-83, 75) t(-117, 28) z()

#define FONT_GLYPH_CMDS_SEVEN()                                                                    \
  m(1096, 1352) l(-603, -1352) h(-194) l(601, 1294) h(-788) v(162) h(984) v(-104) z()

#define FONT_GLYPH_CMDS_EIGHT()                                                                    \
  m(1070, 1076) q(-1, -109, -59, -194) t(-155, -133) q(56, -24, 101.5, -59.5) t(78, -81.5)         \
    t(50, -100) t(17.5, -115) q(0, -99, -36.5, -176) t(-99, -129.5) t(-146.5, -80) t(-180, -27.5)  \
      q(-98, 0, -182.5, 27) t(-147, 79.5) t(-98.5, 129.5) t(-36, 177) q(0, 61, 17, 115.5)          \
        t(49, 100) t(77, 81.5) t(101, 60) q(-48, 24, -87, 57.5) t(-66, 75) t(-42, 90.5)            \
          t(-15, 103) q(0, 95, 32, 169.5) t(88.5, 125.5) t(135, 78) t(171.5, 27)                   \
            q(92, 0, 171, -27) t(137, -78) t(91, -125.5) t(33, -169.5) z() m(918, 397)             \
              q(0, 61, -20.5, 112) t(-57.5, 87.5) t(-88.5, 56.5) t(-112.5, 20)                     \
                q(-63, 0, -114, -20) t(-87, -56.5) t(-55.5, -87.5) t(-19.5, -112)                  \
                  q(0, -63, 19.5, -112.5) t(55.5, -83.5) t(87.5, -52) t(115.5, -18)                \
                    q(61, 0, 112, 18) t(87.5, 52) t(57, 83.5) t(20.5, 112.5) z() m(884, 1073)      \
                      q(0, 55, -18.5, 101) t(-51, 79.5) t(-77.5, 52) t(-99, 18.5) t(-98, -17.5)    \
                        t(-76, -50.5) t(-49.5, -79.5) t(-17.5, -103.5) t(17.5, -102.5) t(50, -78)  \
                          t(77, -50) t(98.5, -17.5) q(53, 0, 98, 17.5) t(77.5, 50) t(50.5, 78.5)   \
                            t(18, 102) z()

#define FONT_GLYPH_CMDS_NINE()                                                                     \
  m(373, 164) q(99, 0, 174, 17.5) t(130.5, 49.5) t(92.5, 75.5) t(60.5, 96) t(34.5, 111)            \
    t(14, 119.5) q(-24, -30, -55, -56.5) t(-70, -46.5) t(-86.5, -31.5) t(-103.5, -11.5)            \
      q(-108, 0, -186.5, 42.5) t(-129.5, 111.5) t(-75, 156) t(-24, 175) q(0, 103, 28.5, 194.5)     \
        t(85, 160) t(141, 109) t(196.5, 40.5) q(84, 0, 151.5, -23.5) t(119, -65) t(88.5, -98)      \
          t(60.5, -122) t(34.5, -137) t(11, -143.5) v(-67) q(0, -93, -9, -190.5) t(-35.5, -188.5)  \
            t(-74.5, -171.5) t(-125, -140.5) t(-187, -95) t(-261, -35) h(-19) v(165) h(19) z()     \
              m(594, 640) q(47, 0, 91.5, 15.5) t(82, 44) t(67, 67) t(46.5, 85.5) v(60)             \
                q(0, 97, -22.5, 173) t(-61, 128.5) t(-89, 80.5) t(-107.5, 28) q(-65, 0, -115, -26) \
                  t(-84.5, -71.5) t(-52.5, -108) t(-18, -134.5) q(0, -64, 16, -125.5)              \
                    t(48.5, -109.5) t(82, -77.5) t(116.5, -29.5) z()

//
//
//

FONT_METRICS_PROTO(roboto_mono_regular)
{
  *metrics = (struct font_metrics){

    .ascent  = 1638,
    .descent = 410,
    .advance = { .width = 1229 }
  };
}

//
//
//

#define FONT_GLYPH_DEFN(f_, g_, cmds_)                                                             \
  FONT_GLYPH_PROTO(f_, g_)                                                                         \
  {                                                                                                \
    spinel(path_builder_begin(pb));                                                                \
                                                                                                   \
    cmds_;                                                                                         \
                                                                                                   \
    spinel(path_builder_end(pb, path));                                                            \
  }

//
//
//

// clang-format off
#define m(x0_, y0_)              m_f32(((float)x0_), ((float)y0_))
#define h(x_)                    h_f32(((float)x_))
#define v(y_)                    v_f32(((float)y_))
#define l(x1_, y1_)              l_f32(((float)x1_), ((float)y1_))
#define q(x1_, y1_, x2_, y2_)    q_f32(((float)x1_), ((float)y1_), ((float)x2_), ((float)y2_))
#define t(x2_, y2_)              t_f32(((float)x2_), ((float)y2_))
// clang-format on

//
//
//

#define m_f32(x0_, y0_)                                                                            \
  {                                                                                                \
    spinel(path_builder_move_to(pb, x0_, y0_));                                                    \
    float const zx = x0_;                                                                          \
    float const zy = y0_;                                                                          \
    float       px = x0_;                                                                          \
    float       py = y0_;

//
//
//

#define h_f32(x_) spinel(path_builder_line_to(pb, px += x_, py));

//
//
//

#define v_f32(y_) spinel(path_builder_line_to(pb, px, py += y_));

//
//
//

#define l_f32(x1_, y1_) spinel(path_builder_line_to(pb, px += x1_, py += y1_));

//
//
//

#define q_f32(x1_, y1_, x2_, y2_)                                                                  \
  spinel(path_builder_quad_to(pb, px + x1_, py + y1_, px + x2_, py + y2_));                        \
  px += x2_;                                                                                       \
  py += y2_;

//
//
//

#define t_f32(x2_, y2_)                                                                            \
  spinel(path_builder_quad_smooth_to(pb, px + x2_, py + y2_));                                     \
  px += x2_;                                                                                       \
  py += y2_;

//
//
//

#define z()                                                                                        \
  spinel(path_builder_line_to(pb, zx, zy));                                                        \
  }

//
//
//

// clang-format off
FONT_GLYPH_DEFN(roboto_mono_regular, paren_left,  FONT_GLYPH_CMDS_PAREN_LEFT())
FONT_GLYPH_DEFN(roboto_mono_regular, paren_right, FONT_GLYPH_CMDS_PAREN_RIGHT())
FONT_GLYPH_DEFN(roboto_mono_regular, comma,       FONT_GLYPH_CMDS_COMMA())
FONT_GLYPH_DEFN(roboto_mono_regular, zero,        FONT_GLYPH_CMDS_ZERO())
FONT_GLYPH_DEFN(roboto_mono_regular, one,         FONT_GLYPH_CMDS_ONE())
FONT_GLYPH_DEFN(roboto_mono_regular, two,         FONT_GLYPH_CMDS_TWO())
FONT_GLYPH_DEFN(roboto_mono_regular, three,       FONT_GLYPH_CMDS_THREE())
FONT_GLYPH_DEFN(roboto_mono_regular, four,        FONT_GLYPH_CMDS_FOUR())
FONT_GLYPH_DEFN(roboto_mono_regular, five,        FONT_GLYPH_CMDS_FIVE())
FONT_GLYPH_DEFN(roboto_mono_regular, six,         FONT_GLYPH_CMDS_SIX())
FONT_GLYPH_DEFN(roboto_mono_regular, seven,       FONT_GLYPH_CMDS_SEVEN())
FONT_GLYPH_DEFN(roboto_mono_regular, eight,       FONT_GLYPH_CMDS_EIGHT())
FONT_GLYPH_DEFN(roboto_mono_regular, nine,        FONT_GLYPH_CMDS_NINE())
// clang-format on

//
//
//
