{{/*
// Copyright 2018 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
*/}}

{{- define "Filename:WireTestBase" -}}
fidl/{{ .LibraryDots }}/cpp/wire_test_base.h
{{- end }}


{{- define "File:WireTestBase" -}}
{{- UseWire -}}
{{- SetTransport "Channel" -}}
// WARNING: This file is machine generated by fidlgen.

#pragma once

#include <{{ .Library | Filename "WireHeader" }}>

{{- range (call .ProtocolsForTransport "Channel") }}
  {{ EnsureNamespace "fidl::testing" }}

  template<>
  class {{ .TestBase.Name }} : public {{ .WireServer }} {
    public:
    virtual ~{{ .TestBase.Name }}() { }
    virtual void NotImplemented_(const std::string& name, ::fidl::CompleterBase& completer) = 0;

    {{- range .Methods }}
      {{- if .HasRequest }}
      virtual void {{ .Name }}(
          {{ .WireRequestViewArg }} request, {{ .WireCompleterArg }}& _completer) override {
            NotImplemented_("{{ .Name }}", _completer); }
      {{- end }}
    {{- end }}
  };
{{ end -}}

{{ UnsetTransport -}}
{{ EndOfFile }}
{{ end }}

