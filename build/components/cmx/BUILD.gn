# Copyright 2021 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

group("cmx_allowlist") {
  #  ________  _________  ________  ________
  # |\   ____\|\___   ___\\   __  \|\   __  \
  # \ \  \___|\|___ \  \_\ \  \|\  \ \  \|\  \
  #  \ \_____  \   \ \  \ \ \  \\\  \ \   ____\
  #   \|____|\  \   \ \  \ \ \  \\\  \ \  \___|
  #     ____\_\  \   \ \__\ \ \_______\ \__\
  #    |\_________\   \|__|  \|_______|\|__|
  #    \|_________|
  # This is an allowlist of targets that use CMX (.cmx) files.
  # CMX is the component manifest v1 syntax. There is a migration in progress
  # to CML files, the component manifest v2 syntax. See:
  # https://fuchsia.dev/fuchsia-src/concepts/components/v2/migration
  #
  # Developers are encouraged to migrate to v2. See the migration guide:
  # https://fuchsia.dev/fuchsia-src/development/components/v2/migration
  #
  # The policy at this time is:
  # 1. Use of CMX files outside of fuchsia.git is unrestricted.
  # 2. Pre-existing use of CMX files in fuchsia.git is allowlisted.
  # 3. New usage of CMX files in fuchsia.git is strongly discouraged.
  #    Please see the self-service migration guide.
  # 4. Requests to allowlist new CMX files will be considered on a case-by-case
  #    basis.
  #
  # To add items to the allowlist, please send a change to one of the OWNERS of
  # this file to add an element to the visibility list below.
  # Please allowlist entire directories rather than individual targets as it
  # requires less allowlist churn over time.
  #
  # To regenerate:
  # fx gn refs $(fx get-build-dir) //build/components/cmx:cmx_allowlist | sed 's|\(.*:\).*|"\1*",|' | sort | uniq
  #
  # To trim:
  # scripts/gn/trim_visibility.py --target="//build/components/cmx:cmx_allowlist"
  visibility = [
    "//build/components/tests:*",
    "//build/dart/tests:*",
    "//examples/components/realm_builder:*",
    "//examples/dart/fuchsia_inspect_flutter/torus15:*",
    "//examples/dart/fuchsia_services/mind_reader/bin/client:*",
    "//examples/dart/fuchsia_services/mind_reader/bin/server:*",
    "//examples/dart/fuchsia_webview_flutter/webview_mod:*",
    "//examples/diagnostics/inspect/codelab/dart/client:*",
    "//examples/diagnostics/inspect/codelab/dart/fizzbuzz:*",
    "//examples/diagnostics/inspect/codelab/dart/part_1:*",
    "//examples/diagnostics/inspect/codelab/dart/part_2:*",
    "//examples/diagnostics/inspect/codelab/dart/part_3:*",
    "//examples/diagnostics/inspect/codelab/dart/part_4:*",
    "//examples/diagnostics/inspect/codelab/dart/part_5:*",
    "//examples/fidl/dart/client:*",
    "//examples/fidl/dart/request_pipelining/client:*",
    "//examples/fidl/dart/request_pipelining/server:*",
    "//examples/fidl/dart/server:*",
    "//examples/fidl/test:*",
    "//examples/fuzzers/cpp:*",
    "//examples/fuzzers/fidl:*",
    "//examples/fuzzers/rust:*",
    "//examples/hello_world/dart:*",
    "//examples/isolated_cache:*",
    "//garnet/bin/cpuperf:*",
    "//garnet/bin/cpuperf/tests:*",
    "//garnet/bin/cpuperf_provider:*",
    "//garnet/bin/glob:*",
    "//garnet/bin/hwstress:*",
    "//garnet/bin/insntrace:*",
    "//garnet/bin/insntrace/tests:*",
    "//garnet/bin/ktrace_provider:*",
    "//garnet/bin/run_test_component:*",
    "//garnet/bin/run_test_component/test:*",
    "//garnet/bin/sched:*",
    "//garnet/bin/setui:*",
    "//garnet/bin/setui_client:*",
    "//garnet/bin/trace:*",
    "//garnet/bin/trace/tests:*",
    "//garnet/bin/trace_manager:*",
    "//garnet/bin/trace_manager/tests:*",
    "//garnet/bin/trace_stress:*",
    "//garnet/bin/ui/benchmarks/image_grid_cpp:*",
    "//garnet/bin/ui/benchmarks/transparency_benchmark:*",
    "//garnet/bin/vsock_service:*",
    "//garnet/examples/benchmark:*",
    "//garnet/examples/http/httpget_cpp:*",
    "//garnet/examples/http/httpget_rust:*",
    "//garnet/examples/tcp/tcp_file_sender:*",
    "//garnet/lib/perfmon:*",
    "//garnet/lib/process:*",
    "//garnet/lib/rust/files_async:*",
    "//garnet/lib/rust/io_util:*",
    "//garnet/lib/rust/webpki-roots-fuchsia:*",
    "//sdk/cts/examples/hello_world:*",
    "//sdk/cts/tests/pkg/fdio:*",
    "//sdk/cts/tests/pkg/memfs:*",
    "//sdk/cts/tests/tools/package_manager/components:*",
    "//sdk/dart/fuchsia_inspect:*",
    "//sdk/dart/fuchsia_inspect/test/inspect_flutter_integration_tester:*",
    "//sdk/dart/fuchsia_inspect/test/integration:*",
    "//sdk/dart/fuchsia_inspect/test/validator_puppet:*",
    "//sdk/dart/fuchsia_logger/test/integration:*",
    "//sdk/dart/fuchsia_modular:*",
    "//sdk/dart/fuchsia_modular_testing:*",
    "//sdk/dart/fuchsia_services:*",
    "//sdk/dart/fuchsia_services/test_support:*",
    "//sdk/dart/fuchsia_vfs:*",
    "//sdk/dart/zircon:*",
    "//sdk/lib/fdio/tests:*",
    "//sdk/lib/fdio/tests/getaddrinfo:*",
    "//sdk/lib/fidl/cpp/fuzzing:*",
    "//sdk/lib/fuzzing/cpp:*",
    "//sdk/lib/inspect/contrib/cpp/tests:*",
    "//sdk/lib/inspect/service/cpp/tests:*",
    "//sdk/lib/modular/cpp:*",
    "//sdk/lib/modular/testing/cpp:*",
    "//sdk/lib/procfs/cpp:*",
    "//sdk/lib/sys/component/cpp/tests:*",
    "//sdk/lib/sys/cpp/testing/environment_delegating_runner:*",
    "//sdk/lib/sys/cpp/testing/examples/test_with_environment:*",
    "//sdk/lib/sys/cpp/tests:*",
    "//sdk/lib/sys/inspect/cpp/tests:*",
    "//sdk/lib/sys/service/cpp:*",
    "//sdk/lib/syslog/cpp:*",
    "//sdk/lib/syslog/streams/cpp:*",
    "//sdk/lib/ui/scenic/cpp/tests:*",
    "//sdk/lib/vfs/cpp:*",
    "//sdk/lib/virtualization:*",
    "//sdk/lib/zxio/tests:*",
    "//src/bringup/bin/bootsvc:*",
    "//src/bringup/bin/virtcon:*",
    "//src/camera/bin/benchmark:*",
    "//src/camera/bin/camera-gym:*",
    "//src/camera/bin/camera-gym/controller_client:*",
    "//src/camera/bin/device:*",
    "//src/camera/bin/device_watcher:*",
    "//src/camera/bin/sensor_cli:*",
    "//src/camera/bin/virtual_camera:*",
    "//src/camera/drivers/controller/sherlock:*",
    "//src/camera/drivers/controller/test:*",
    "//src/camera/drivers/test_utils:*",
    "//src/camera/lib/fake_camera:*",
    "//src/camera/lib/fake_legacy_stream:*",
    "//src/camera/lib/stream_utils:*",
    "//src/camera/lib/virtual_camera:*",
    "//src/chromium/web_runner_tests:*",
    "//src/cobalt/bin/app:*",
    "//src/cobalt/bin/app/fuzzer:*",
    "//src/cobalt/bin/system-metrics:*",
    "//src/cobalt/bin/testing/mock_cobalt:*",
    "//src/connectivity/bluetooth/core/bt-gap:*",
    "//src/connectivity/bluetooth/core/bt-host/common:*",
    "//src/connectivity/bluetooth/core/bt-host/fidl:*",
    "//src/connectivity/bluetooth/core/bt-host/gap:*",
    "//src/connectivity/bluetooth/core/bt-host/l2cap:*",
    "//src/connectivity/bluetooth/core/bt-host/sdp:*",
    "//src/connectivity/bluetooth/core/bt-host/sm:*",
    "//src/connectivity/bluetooth/core/bt-host/transport:*",
    "//src/connectivity/bluetooth/core/bt-init:*",
    "//src/connectivity/bluetooth/profiles/bt-a2dp:*",
    "//src/connectivity/bluetooth/profiles/bt-avrcp-target:*",
    "//src/connectivity/bluetooth/profiles/bt-rfcomm:*",
    "//src/connectivity/bluetooth/profiles/tests/bt-a2dp-loopback:*",
    "//src/connectivity/bluetooth/testing/mock-piconet-server:*",
    "//src/connectivity/bluetooth/tests:*",
    "//src/connectivity/bluetooth/tests/audio-device-output-harness:*",
    "//src/connectivity/bluetooth/tests/bt-bonding-integration:*",
    "//src/connectivity/bluetooth/tests/integration:*",
    "//src/connectivity/bluetooth/tools/bt-fct-hci:*",
    "//src/connectivity/bluetooth/tools/bt-snoop:*",
    "//src/connectivity/bluetooth/tools/dai-info:*",
    "//src/connectivity/bluetooth/tools/tests/bt-tool-cli-tests:*",
    "//src/connectivity/ethernet/drivers/usb-cdc-ecm:*",
    "//src/connectivity/lowpan/drivers/lowpan-dummy-driver:*",
    "//src/connectivity/lowpan/drivers/lowpan-ot-driver:*",
    "//src/connectivity/lowpan/drivers/lowpan-spinel-driver:*",
    "//src/connectivity/lowpan/drivers/lowpan-spinel-driver/tests/test-components:*",
    "//src/connectivity/lowpan/service:*",
    "//src/connectivity/lowpan/tests:*",
    "//src/connectivity/lowpan/tools/lowpanctl:*",
    "//src/connectivity/lowpan/tools/lowpanctl/test:*",
    "//src/connectivity/management/reachability:*",
    "//src/connectivity/network/dhcpv6/client:*",
    "//src/connectivity/network/dhcpv6/core:*",
    "//src/connectivity/network/dns:*",
    "//src/connectivity/network/drivers/network-device/device:*",
    "//src/connectivity/network/http-client:*",
    "//src/connectivity/network/mdns/service:*",
    "//src/connectivity/network/netstack:*",
    "//src/connectivity/network/netstack/inspect/validator:*",
    "//src/connectivity/network/netstack3:*",
    "//src/connectivity/network/netstack3/core:*",
    "//src/connectivity/network/testing/netemul/runner:*",
    "//src/connectivity/network/testing/netemul/runner/runner:*",
    "//src/connectivity/network/testing/netemul/runner/test:*",
    "//src/connectivity/network/testing/netemul/runner/test/dummy_proc:*",
    "//src/connectivity/network/testing/netemul/runner/test/dynamic_devices:*",
    "//src/connectivity/network/testing/netemul/runner/test/easy_netstack_cfg:*",
    "//src/connectivity/network/testing/netemul/runner/test/env_build:*",
    "//src/connectivity/network/testing/netemul/runner/test/guest:*",
    "//src/connectivity/network/testing/netemul/runner/test/guest_grpc_stress:*",
    "//src/connectivity/network/testing/netemul/runner/test/inheritance:*",
    "//src/connectivity/network/testing/netemul/runner/test/multiple_guests:*",
    "//src/connectivity/network/testing/netemul/runner/test/netstack_intermediary:*",
    "//src/connectivity/network/testing/netemul/runner/test/netstack_socks:*",
    "//src/connectivity/network/testing/netemul/runner/test/network_device:*",
    "//src/connectivity/network/testing/netemul/runner/test/svc_list:*",
    "//src/connectivity/network/testing/netemul/runner/test/virtual_device_directory:*",
    "//src/connectivity/network/tests:*",
    "//src/connectivity/network/tests/benchmarks:*",
    "//src/connectivity/network/tests/dhcp_interop:*",
    "//src/connectivity/network/tests/getifaddrs:*",
    "//src/connectivity/network/tests/integration/ip_forward:*",
    "//src/connectivity/network/tools/network-speed-test:*",
    "//src/connectivity/network/tools/network-speed-test/integration:*",
    "//src/connectivity/network/tools/sockscripter:*",
    "//src/connectivity/network/tun/network-tun:*",
    "//src/connectivity/openthread/ot-stack:*",
    "//src/connectivity/openthread/tests/ot-devmgr:*",
    "//src/connectivity/openthread/tests/test-components:*",
    "//src/connectivity/openthread/third_party/openthread/platform/tests:*",
    "//src/connectivity/overnet/examples:*",
    "//src/connectivity/overnet/examples/echo:*",
    "//src/connectivity/overnet/examples/event_pair:*",
    "//src/connectivity/overnet/examples/interface_passing:*",
    "//src/connectivity/overnet/examples/socket_passing:*",
    "//src/connectivity/overnet/lib/core:*",
    "//src/connectivity/overnet/lib/hoist:*",
    "//src/connectivity/overnet/lib/quic:*",
    "//src/connectivity/overnet/lib/serial_link:*",
    "//src/connectivity/overnet/lib/stream_framer:*",
    "//src/connectivity/overnet/lib/stream_link:*",
    "//src/connectivity/overnet/lib/udp_link:*",
    "//src/connectivity/overnet/overnetstack:*",
    "//src/connectivity/overnet/tests/fidl:*",
    "//src/connectivity/overnet/tests/integration:*",
    "//src/connectivity/overnet/tools/onet:*",
    "//src/connectivity/telephony/lib/tel-devmgr:*",
    "//src/connectivity/telephony/ril-at:*",
    "//src/connectivity/telephony/ril-qmi:*",
    "//src/connectivity/telephony/telephony:*",
    "//src/connectivity/telephony/telephony-snooper:*",
    "//src/connectivity/telephony/tests:*",
    "//src/connectivity/weave/tests/weave_ip_forward:*",
    "//src/connectivity/wlan/testing/wlan-devmgr:*",
    "//src/connectivity/wlan/wlancfg:*",
    "//src/developer/build_info:*",
    "//src/developer/debug/debug_agent:*",
    "//src/developer/debug/zxdb/expr:*",
    "//src/developer/forensics:*",
    "//src/developer/forensics/crash_reports/tests:*",
    "//src/developer/forensics/crasher/cpp:*",
    "//src/developer/forensics/crasher/rust:*",
    "//src/developer/forensics/exceptions/limbo_client:*",
    "//src/developer/forensics/exceptions/tests:*",
    "//src/developer/forensics/feedback/migration/shell/tests:*",
    "//src/developer/forensics/feedback/migration/utils/tests:*",
    "//src/developer/forensics/feedback/reboot_log/tests:*",
    "//src/developer/forensics/feedback/tests:*",
    "//src/developer/forensics/feedback_data/system_log_recorder/tests:*",
    "//src/developer/forensics/feedback_data/tests:*",
    "//src/developer/forensics/snapshot:*",
    "//src/developer/forensics/snapshot/tests:*",
    "//src/developer/forensics/testing/fakes:*",
    "//src/developer/forensics/utils/tests:*",
    "//src/developer/fuchsia-criterion:*",
    "//src/developer/memory/mem:*",
    "//src/developer/memory/metrics/tests:*",
    "//src/developer/memory/monitor:*",
    "//src/developer/memory/monitor/tests:*",
    "//src/developer/remote-control:*",
    "//src/developer/shell:*",
    "//src/developer/shell/interpreter:*",
    "//src/developer/shell/mirror:*",
    "//src/developer/sshd-host:*",
    "//src/developer/tracing/lib/test_utils:*",
    "//src/devices/bin/driver_manager:*",
    "//src/devices/bin/register-util:*",
    "//src/devices/clock/lib/clocktree/tests:*",
    "//src/devices/lib/bind:*",
    "//src/devices/radar/tests/radar-integration-test:*",
    "//src/devices/sysmem/bin/sysmem_connector:*",
    "//src/devices/sysmem/tests/sysmem:*",
    "//src/devices/sysmem/tests/sysmem/fuzz:*",
    "//src/devices/sysmem/tools:*",
    "//src/devices/testing/syslog:*",
    "//src/devices/tests/fx-logger:*",
    "//src/devices/usb/bin/lsusb:*",
    "//src/devices/usb/tests/usb-hci-test:*",
    "//src/diagnostics/archivist:*",
    "//src/diagnostics/archivist/bench/formatter:*",
    "//src/diagnostics/archivist/bench/logging:*",
    "//src/diagnostics/archivist/bench/redaction:*",
    "//src/diagnostics/archivist/tests/logging-component:*",
    "//src/diagnostics/archivist/tests/logs-connector:*",
    "//src/diagnostics/iquery/test/test_component:*",
    "//src/diagnostics/log_listener:*",
    "//src/diagnostics/persistence:*",
    "//src/diagnostics/persistence/tests:*",
    "//src/diagnostics/validator/inspect:*",
    "//src/diagnostics/validator/inspect/lib/cpp:*",
    "//src/diagnostics/validator/inspect/lib/rust:*",
    "//src/diagnostics/validator/logs/encoding:*",
    "//src/diagnostics/validator/logs/encoding/puppet/cpp:*",
    "//src/diagnostics/validator/logs/encoding/puppet/dart:*",
    "//src/diagnostics/validator/logs/encoding/puppet/rust:*",
    "//src/diagnostics/validator/logs/sink:*",
    "//src/diagnostics/validator/logs/sink/puppet/cpp:*",
    "//src/diagnostics/validator/logs/sink/puppet/rust:*",
    "//src/diagnostics/validator/logs/sink/puppet/sdk:*",
    "//src/experiences/benchmarks/bin/button_flutter:*",
    "//src/experiences/benchmarks/bin/clockface_flutter:*",
    "//src/experiences/benchmarks/bin/scroll_flutter:*",
    "//src/experiences/bin/ermine_testserver:*",
    "//src/experiences/bin/settings/license:*",
    "//src/experiences/bin/simple_browser:*",
    "//src/experiences/bin/simple_browser/target_test:*",
    "//src/experiences/examples/localized_flutter/localized_flutter_app:*",
    "//src/experiences/examples/spinning_cube:*",
    "//src/factory/factory_store_providers:*",
    "//src/factory/factoryctl:*",
    "//src/factory/fake_factory_items:*",
    "//src/factory/fake_factory_store_providers:*",
    "//src/fonts:*",
    "//src/fonts/char_set:*",
    "//src/fonts/font_info:*",
    "//src/fonts/manifest:*",
    "//src/fonts/offset_string:*",
    "//src/fonts/tests/smoke:*",
    "//src/graphics/display/bin/display-factory-test:*",
    "//src/graphics/display/lib/edid:*",
    "//src/graphics/drivers/intel-gen/icd:*",
    "//src/graphics/drivers/msd-arm-mali/tests:*",
    "//src/graphics/drivers/msd-intel-gen/tests:*",
    "//src/graphics/drivers/msd-vsi-vip/tests/integration:*",
    "//src/graphics/drivers/msd-vsi-vip/tests/unit_tests:*",
    "//src/graphics/examples/vkproto:*",
    "//src/graphics/examples/vkproto/cmd-buf-benchmark:*",
    "//src/graphics/examples/vkproto/driver-tests:*",
    "//src/graphics/examples/vkproto/test:*",
    "//src/graphics/examples/vkproto/transaction-elimination-test:*",
    "//src/graphics/examples/vulkaninfo:*",
    "//src/graphics/lib/compute:*",
    "//src/graphics/lib/compute/examples:*",
    "//src/graphics/lib/compute/hotsort/platforms/vk/tests/hotsort_vk_bench:*",
    "//src/graphics/lib/compute/radix_sort/platforms/vk/tests/radix_sort_vk_bench:*",
    "//src/graphics/lib/compute/spinel2/platforms/vk/tests/spinel_vk_bench:*",
    "//src/graphics/lib/compute/spinel2/platforms/vk/tests/spinel_vk_test:*",
    "//src/graphics/lib/compute/tests/vk-app-state-test:*",
    "//src/graphics/lib/compute/tests/vk-swapchain-test:*",
    "//src/graphics/lib/compute/tests/vk-transfer-test:*",
    "//src/graphics/lib/compute/tests/vk-triangle-test:*",
    "//src/graphics/lib/compute/tools/bench/platforms/vk:*",
    "//src/graphics/lib/compute/tools/bench/platforms/vk/tests:*",
    "//src/graphics/lib/magma/src/tools:*",
    "//src/graphics/lib/magma/src/tools/mali-performance-counters:*",
    "//src/graphics/lib/magma/tests:*",
    "//src/graphics/tests/benchmark:*",
    "//src/graphics/tests/common:*",
    "//src/graphics/tests/goldfish_benchmark:*",
    "//src/graphics/tests/goldfish_test:*",
    "//src/graphics/tests/icd_load:*",
    "//src/graphics/tests/mali_vulkan_test:*",
    "//src/graphics/tests/vk_timer_query:*",
    "//src/graphics/tests/vkext:*",
    "//src/graphics/tests/vkloop:*",
    "//src/graphics/tests/vkpriority:*",
    "//src/graphics/tests/vkreadback:*",
    "//src/graphics/tests/vkvalidation:*",
    "//src/hwinfo:*",
    "//src/identity/bin:*",
    "//src/identity/bin/account_handler:*",
    "//src/identity/bin/account_manager:*",
    "//src/identity/bin/dev_auth_provider:*",
    "//src/identity/bin/dev_authenticator:*",
    "//src/identity/bin/google_auth_provider:*",
    "//src/identity/bin/token_manager_factory:*",
    "//src/identity/lib:*",
    "//src/identity/tests/account_manager_integration:*",
    "//src/identity/tests/token_manager_integration:*",
    "//src/identity/tools/accountctl:*",
    "//src/identity/tools/sktool:*",
    "//src/intl/example:*",
    "//src/intl/intl_services:*",
    "//src/intl/intl_services/tests:*",
    "//src/intl/time_zone_info_service:*",
    "//src/lib/async-watchdog/tests:*",
    "//src/lib/chunked-compression:*",
    "//src/lib/cmx:*",
    "//src/lib/cmx/facet_parser:*",
    "//src/lib/cobalt:*",
    "//src/lib/component:*",
    "//src/lib/diagnostics/inspect/dart/bench:*",
    "//src/lib/diagnostics/inspect/runtime/rust:*",
    "//src/lib/diagnostics/inspect/rust/bench:*",
    "//src/lib/diagnostics/log/encoding/rust:*",
    "//src/lib/diagnostics/selectors/bench:*",
    "//src/lib/digest/test:*",
    "//src/lib/elfldltl:*",
    "//src/lib/elflib:*",
    "//src/lib/fake-clock/examples/rust:*",
    "//src/lib/fake-clock/lib:*",
    "//src/lib/fake-clock/svc:*",
    "//src/lib/fdio/rust:*",
    "//src/lib/fidl/c/walker_tests:*",
    "//src/lib/fidl/cpp/tests/natural_types:*",
    "//src/lib/fidl/dart/gidl:*",
    "//src/lib/fidl/llcpp/tests/dispatcher:*",
    "//src/lib/fidl/llcpp/tests/message_container:*",
    "//src/lib/fidl/llcpp/tests/wire_types:*",
    "//src/lib/files:*",
    "//src/lib/fostr:*",
    "//src/lib/fsl:*",
    "//src/lib/fuchsia-async:*",
    "//src/lib/fuchsia-component-test/tests:*",
    "//src/lib/fuchsia-component/component-launching-test:*",
    "//src/lib/fuchsia-component/isolated_component_test:*",
    "//src/lib/fuchsia-component/tests:*",
    "//src/lib/fuchsia-hyper:*",
    "//src/lib/fxl:*",
    "//src/lib/http-sse:*",
    "//src/lib/icu_data/rust/icu_data:*",
    "//src/lib/intl/lookup/cpp:*",
    "//src/lib/isolated_devmgr:*",
    "//src/lib/json_parser:*",
    "//src/lib/loader_service:*",
    "//src/lib/nix/tests:*",
    "//src/lib/pkg_url:*",
    "//src/lib/process_builder:*",
    "//src/lib/pty:*",
    "//src/lib/scoped_task:*",
    "//src/lib/storage/ramdevice_client/rust:*",
    "//src/lib/storage/vfs/cpp:*",
    "//src/lib/storage/vfs/cpp/journal:*",
    "//src/lib/syslog/go:*",
    "//src/lib/syslog/rust:*",
    "//src/lib/syslog/rust/tests:*",
    "//src/lib/tcp-stream-ext:*",
    "//src/lib/testing/fuchsia-hyper-test-support:*",
    "//src/lib/ui/carnelian:*",
    "//src/lib/ui/fuchsia-framebuffer:*",
    "//src/lib/utf_conversion:*",
    "//src/lib/vulkan/tests:*",
    "//src/lib/zircon/rust:*",
    "//src/media/audio/audio_core:*",
    "//src/media/audio/audio_core/mixer:*",
    "//src/media/audio/audio_core/mixer/tools:*",
    "//src/media/audio/audio_core/test/api:*",
    "//src/media/audio/audio_core/test/hardware:*",
    "//src/media/audio/audio_core/test/stress:*",
    "//src/media/audio/audio_core/tools/output_pipeline_benchmark:*",
    "//src/media/audio/drivers/intel-hda/controller:*",
    "//src/media/audio/drivers/intel-hda/test:*",
    "//src/media/audio/drivers/test:*",
    "//src/media/audio/examples/fx:*",
    "//src/media/audio/examples/simple_sine:*",
    "//src/media/audio/examples/sync_sine:*",
    "//src/media/audio/examples/tones:*",
    "//src/media/audio/lib/audio_test_devmgr:*",
    "//src/media/audio/lib/clock:*",
    "//src/media/audio/lib/wav:*",
    "//src/media/audio/tools/virtual_audio_util:*",
    "//src/media/audio/virtual_audio_service:*",
    "//src/media/codec:*",
    "//src/media/codec/examples:*",
    "//src/media/codec/factory:*",
    "//src/media/lib/codec_impl/unit_tests:*",
    "//src/media/playback/examples/audio_player:*",
    "//src/media/playback/mediaplayer:*",
    "//src/media/sessions:*",
    "//src/media/sessions/examples:*",
    "//src/media/sounds/example:*",
    "//src/media/stream_processors/test:*",
    "//src/modular:*",
    "//src/modular/bin/basemgr:*",
    "//src/modular/bin/basemgr_launcher:*",
    "//src/modular/bin/modular_test_harness:*",
    "//src/modular/bin/sessionctl:*",
    "//src/modular/bin/sessionmgr:*",
    "//src/modular/bin/sessionmgr/agent_runner:*",
    "//src/modular/bin/sessionmgr/puppet_master:*",
    "//src/modular/bin/sessionmgr/puppet_master/command_runners:*",
    "//src/modular/bin/sessionmgr/story_runner:*",
    "//src/modular/lib/modular_test_harness/cpp:*",
    "//src/modular/tests:*",
    "//src/power/battery-manager:*",
    "//src/power/power-manager:*",
    "//src/power/testing/thermal-test-control:*",
    "//src/power/thermd:*",
    "//src/recovery/factory-reset-trigger:*",
    "//src/recovery/integration:*",
    "//src/recovery/system:*",
    "//src/security/codelab/smart_door:*",
    "//src/security/codelab/smart_door_memory:*",
    "//src/security/fcrypto/test:*",
    "//src/security/kms:*",
    "//src/security/tee_manager:*",
    "//src/session/lib/realm_management:*",
    "//src/storage/bin/disk-pave:*",
    "//src/storage/bin/odu:*",
    "//src/storage/bin/start-storage-benchmark:*",
    "//src/storage/bin/start-storage-benchmark/testing:*",
    "//src/storage/ext4/server:*",
    "//src/storage/extractor:*",
    "//src/storage/extractor/c:*",
    "//src/storage/fuchsia-fatfs:*",
    "//src/storage/fuzzers:*",
    "//src/storage/lib/paver/test:*",
    "//src/storage/memfs/test:*",
    "//src/storage/minfs/test:*",
    "//src/sys/activity:*",
    "//src/sys/appmgr:*",
    "//src/sys/appmgr/integration_tests:*",
    "//src/sys/appmgr/integration_tests/component_events:*",
    "//src/sys/appmgr/integration_tests/components:*",
    "//src/sys/appmgr/integration_tests/inspect:*",
    "//src/sys/appmgr/integration_tests/lifecycle:*",
    "//src/sys/appmgr/integration_tests/logs:*",
    "//src/sys/appmgr/integration_tests/mock_runner:*",
    "//src/sys/appmgr/integration_tests/outdir:*",
    "//src/sys/appmgr/integration_tests/policy:*",
    "//src/sys/appmgr/integration_tests/sandbox:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/ambient-executable-policy:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/build-info:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/deprecated-global-dev:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/durable-data:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/factory-data:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/hub:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/isolated-temp:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/shell:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/shell-commands:*",
    "//src/sys/appmgr/integration_tests/sandbox/features/storage:*",
    "//src/sys/appmgr/integration_tests/sandbox/services:*",
    "//src/sys/appmgr/integration_tests/util:*",
    "//src/sys/component_index:*",
    "//src/sys/component_manager:*",
    "//src/sys/component_manager/tests/attributed_logging:*",
    "//src/sys/component_manager/tests/namespace_capabilities:*",
    "//src/sys/component_manager/tests/rights:*",
    "//src/sys/component_manager/tests/security_policy/ambient_mark_vmo_exec:*",
    "//src/sys/component_manager/tests/security_policy/capability_allowlist:*",
    "//src/sys/component_manager/tests/security_policy/main_process_critical:*",
    "//src/sys/component_manager/tests/shutdown:*",
    "//src/sys/component_manager/tests/utc-time:*",
    "//src/sys/component_test_runner:*",
    "//src/sys/installer:*",
    "//src/sys/lib/cm_fidl_validator:*",
    "//src/sys/lib/cm_json:*",
    "//src/sys/lib/cm_rust:*",
    "//src/sys/lib/cm_types:*",
    "//src/sys/lib/component_id_index:*",
    "//src/sys/lib/fidl-fuchsia-pkg-ext:*",
    "//src/sys/lib/fidl-fuchsia-pkg-rewrite-ext:*",
    "//src/sys/lib/fuchsia-bootfs:*",
    "//src/sys/lib/library_loader:*",
    "//src/sys/lib/runner:*",
    "//src/sys/locate:*",
    "//src/sys/pkg/bin/fake-channel-control:*",
    "//src/sys/pkg/bin/pkg-cache:*",
    "//src/sys/pkg/bin/pkg-resolver:*",
    "//src/sys/pkg/bin/pkgctl:*",
    "//src/sys/pkg/bin/pkgfs:*",
    "//src/sys/pkg/bin/pm:*",
    "//src/sys/pkg/bin/system-update-checker:*",
    "//src/sys/pkg/bin/system-updater:*",
    "//src/sys/pkg/bin/update:*",
    "//src/sys/pkg/bin/usb-system-update-checker:*",
    "//src/sys/pkg/lib/blobfs:*",
    "//src/sys/pkg/lib/forced-fdr:*",
    "//src/sys/pkg/lib/fuchsia-pkg-testing:*",
    "//src/sys/pkg/lib/isolated-swd:*",
    "//src/sys/pkg/lib/pkgfs:*",
    "//src/sys/pkg/testing/mock-omaha-server:*",
    "//src/sys/pkg/testing/mock-resolver:*",
    "//src/sys/pkg/testing/pkgfs-ramdisk:*",
    "//src/sys/pkg/tests/far:*",
    "//src/sys/pkg/tests/isolated-ota:*",
    "//src/sys/pkg/tests/pkgctl:*",
    "//src/sys/pkg/tests/system-update-committer:*",
    "//src/sys/pkg/tests/update:*",
    "//src/sys/pkg/tests/usb-system-update-checker:*",
    "//src/sys/startup:*",
    "//src/sys/stash:*",
    "//src/sys/sysmgr:*",
    "//src/sys/sysmgr/integration_tests:*",
    "//src/sys/sysmgr/test:*",
    "//src/sys/test_manager/cmx_runner/tests:*",
    "//src/sys/test_manager/tests/test_data:*",
    "//src/sys/test_runners/gtest:*",
    "//src/sys/test_runners/legacy_test/test_data/echo_test:*",
    "//src/sys/test_runners/legacy_test/test_data/simple_test:*",
    "//src/sys/test_runners/legacy_test/test_data/test_with_system_service:*",
    "//src/sys/time/httpsdate_time_source:*",
    "//src/sys/time/lib/httpdate-hyper:*",
    "//src/sys/time/timekeeper:*",
    "//src/sys/time/timekeeper_integration:*",
    "//src/sys/time/timekeeper_integration/dev_time_source:*",
    "//src/sys/tools/activity-ctl:*",
    "//src/sys/tools/chrealm/integration_tests:*",
    "//src/sys/tools/cs:*",
    "//src/sys/tools/log:*",
    "//src/sys/tools/run:*",
    "//src/sys/tools/run/test:*",
    "//src/sys/tools/stash_ctl:*",
    "//src/testing/fidl/echo_client_placeholder:*",
    "//src/testing/fidl/echo_server_placeholder:*",
    "//src/testing/fidl/intl_property_manager:*",
    "//src/testing/loadbench:*",
    "//src/testing/sl4f:*",
    "//src/testing/sl4f/proxy:*",
    "//src/tests/benchmarks:*",
    "//src/tests/benchmarks/fidl/dart:*",
    "//src/tests/benchmarks/fidl/fidlc:*",
    "//src/tests/fidl/compatibility:*",
    "//src/tests/fidl/compatibility/golang:*",
    "//src/tests/fidl/dart_bindings_test:*",
    "//src/tests/fidl/fuzzer:*",
    "//src/tests/intl/timestamp-server-dart:*",
    "//src/tests/intl/timezone:*",
    "//src/tests/microbenchmarks:*",
    "//src/ui/a11y/bin/a11y_manager:*",
    "//src/ui/a11y/bin/a11y_tts_log_engine:*",
    "//src/ui/a11y/bin/a11y_tts_log_engine/tests:*",
    "//src/ui/a11y/bin/demo:*",
    "//src/ui/bin/hardware_display_controller_provider:*",
    "//src/ui/bin/hardware_display_controller_provider/fake/tests:*",
    "//src/ui/bin/input-pipeline:*",
    "//src/ui/bin/root_presenter:*",
    "//src/ui/bin/root_presenter/tests:*",
    "//src/ui/bin/screensaver:*",
    "//src/ui/bin/shortcut:*",
    "//src/ui/bin/terminal:*",
    "//src/ui/bin/text:*",
    "//src/ui/examples/bouncing_ball:*",
    "//src/ui/examples/embedder:*",
    "//src/ui/examples/escher:*",
    "//src/ui/examples/flatland-display:*",
    "//src/ui/examples/flatland-view-provider:*",
    "//src/ui/examples/frame-compression:*",
    "//src/ui/examples/lab/direct_input:*",
    "//src/ui/examples/lab/direct_input/child:*",
    "//src/ui/examples/lab/pose_buffer_presenter:*",
    "//src/ui/examples/lab/scenic_dev_app:*",
    "//src/ui/examples/shadertoy/client:*",
    "//src/ui/examples/shadertoy/service:*",
    "//src/ui/examples/simplest_app:*",
    "//src/ui/examples/simplest_embedder:*",
    "//src/ui/examples/spinning_square_view:*",
    "//src/ui/examples/standalone_app:*",
    "//src/ui/examples/tile_view:*",
    "//src/ui/examples/yuv_to_image_pipe:*",
    "//src/ui/input/drivers/goldfish_sensor:*",
    "//src/ui/lib/display:*",
    "//src/ui/lib/escher:*",
    "//src/ui/lib/input_pipeline:*",
    "//src/ui/lib/scene_management:*",
    "//src/ui/scenic:*",
    "//src/ui/scenic/integration_tests:*",
    "//src/ui/scenic/lib/focus/tests:*",
    "//src/ui/scenic/lib/gfx/tests:*",
    "//src/ui/scenic/lib/input/tests/fuzzers:*",
    "//src/ui/scenic/lib/scenic/util/tests:*",
    "//src/ui/scenic/lib/scheduling/tests/fuzzers:*",
    "//src/ui/scenic/lib/view_tree/tests:*",
    "//src/ui/testing/views:*",
    "//src/ui/tests/integration_flutter_tests/embedder:*",
    "//src/ui/tests/integration_flutter_tests/embedder/child-view:*",
    "//src/ui/tests/integration_flutter_tests/embedder/parent-view:*",
    "//src/ui/tests/integration_input_tests/factory-reset:*",
    "//src/ui/tests/integration_input_tests/focus:*",
    "//src/ui/tests/integration_input_tests/focus/focus-gfx-client:*",
    "//src/ui/tests/integration_input_tests/media-buttons:*",
    "//src/ui/tests/integration_input_tests/mouse/mouse-input-flutter:*",
    "//src/ui/tests/integration_input_tests/pointerinjector_config:*",
    "//src/ui/tests/integration_input_tests/text-input/text-input-flutter:*",
    "//src/ui/tests/integration_input_tests/touch/embedding-flutter:*",
    "//src/ui/tests/integration_input_tests/touch/one-chromium:*",
    "//src/ui/tests/integration_input_tests/touch/one-flutter:*",
    "//src/ui/tests/integration_input_tests/touch/touch-gfx-client:*",
    "//src/ui/tests/integration_input_tests/virtual-keyboard:*",
    "//src/ui/tests/integration_input_tests/virtual-keyboard/web-virtual-keyboard-client:*",
    "//src/ui/tools:*",
    "//src/ui/tools/present_view/tests:*",
    "//src/ui/tools/print-input-report:*",
    "//src/ui/tools/tiles:*",
    "//src/ui/tools/tiles/flatland:*",
    "//src/ui/tools/tiles_ctl:*",
    "//src/ui/wayland/bin/bridge:*",
    "//src/virtualization/bin/guest_manager:*",
    "//src/virtualization/bin/guest_runner:*",
    "//src/virtualization/bin/linux_runner:*",
    "//src/virtualization/bin/vmm:*",
    "//src/virtualization/bin/vmm/device:*",
    "//src/virtualization/bin/vmm/device/virtio_net:*",
    "//src/virtualization/bin/vmm/device/virtio_rng:*",
    "//src/virtualization/bin/vmm/device/virtio_sound:*",
    "//src/virtualization/lib/guest_interaction:*",
    "//src/virtualization/packages/debian_guest:*",
    "//src/virtualization/packages/termina_guest:*",
    "//src/virtualization/packages/zircon_guest:*",
    "//src/virtualization/tests:*",
    "//src/virtualization/tests/hypervisor:*",
    "//src/zircon/tests/profile:*",
    "//src/zircon/tests/stress-tests:*",
    "//tools/blackout/blobfs-checkerboard:*",
    "//tools/blackout/minfs-fsck:*",
    "//tools/cmc:*",
    "//tools/create/goldens/my-component-v1-cpp:*",
    "//tools/create/goldens/my-component-v1-rust:*",
    "//zircon/kernel/lib/acpi_lite:*",
    "//zircon/kernel/lib/boot-options/tests:*",
    "//zircon/kernel/lib/devicetree/tests:*",
    "//zircon/kernel/phys/lib/memalloc:*",
    "//zircon/system/ulib/affine/test:*",
    "//zircon/system/ulib/bitmap/test:*",
    "//zircon/system/ulib/cmdline/test:*",
    "//zircon/system/ulib/elfload/test:*",
    "//zircon/system/ulib/gfx/test:*",
    "//zircon/system/ulib/hid-parser/test:*",
    "//zircon/system/ulib/inspect/tests:*",
    "//zircon/system/ulib/ldmsg/test:*",
    "//zircon/system/ulib/tftp/test:*",
    "//zircon/system/ulib/zbitl/tests/*",
    "//zircon/system/utest/dash:*",
    "//zircon/system/utest/pty:*",
    "//zircon/system/utest/stdio:*",
    "//zircon/third_party/ulib/lz4/test:*",
  ]

  # At this time we are not enforcing restrictions on the below.
  visibility += [
    "//third_party/*",
    "//vendor/*",
  ]
}
